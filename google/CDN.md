# CDN

## CDN是什么？

- 它将网站的内容通过中心平台分发到部署在各地的边缘服务器进行缓存，再通过负载均衡技术将用户的请求转发到就近的服务器上去获取所需内容，降低网络堵塞，提供访问网站的响应速度和命中率。它不同于简单的镜像，体现在它的内容的存储和分发、负载均衡上面。

## 服务类型

- 网页加速：主要用于缓存网站的静态数据，比如JS、CSS、图片和静态页面等。用户一般从主站获取动态内容后，再从cdn下载相应的静态数据，从而加快网页的下载速度。
- 流媒体服务：主要服务于视频网站，通过将流媒体内容推送到离用户最近的节点，使用户可以从网络边缘获取内容，从而缩短响应时间，提高视频传输质量，减小中心服务器的压力。
- 文件传输加速：通过使用CDN节点提供下载服务，来缓解文件下载带来的性能压力和带宽压力，提供用户下载速度。
- 应用协议加速：通过对TCP等传输协议的优化，改善和加速和改善用户在广域网上的内容传输速度。或者对一些特定协议，如SSL协议进行加速，解决安全传输时的性能和响应速度问题。

## 实现过程

- 用户向浏览器提供要访问的域名。
- 首先向Local DNS服务器发送请求，经过迭代解析后回到这个域名的注册服务器去解析，DNS域名解析服务器通常会把它重新解析到另一个域名，这个域名最终会指向CDN全局中的负载均衡服务器，再由GTM分配那个地方的用户访问那个地方的CDN服务器。
- 用户直接去这个DNS节点获得相应的静态资源，如果这个节点的文件不存在，就会再去源站获取这个文件，然后再返回给用户。